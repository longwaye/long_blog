---
title: Vite性能优化
order: 6
category:
  - Vite
tag:
  - 构建工具
comment: false
---

<br />

开发时态的构建速度优化：yarn dev./yarn start敲下的一瞬间到呈现结果要占用多少时长
webpack在这方面下的功夫是很重：cache-loader cache loader:结果（如果两次构建源代码没有产生变化，则直接使用缓存不调用
loader),thread-loader,开启多线程去构建  

- **vite是按需加载，所以我们不需要太care这方面**  

>页面性能指标：和我们怎么去写代码有关  

- 首屏渲染时：fcp(first content paint),（first content paint->页面中第一个元素的渲染时长)

  - **懒加载**：需要我们去写代码实现的  

  - **http优化**：协商缓存和强缓存
    - `强缓存`：服务端给响应头追加一些字段(`expires`),客户端会记住这些字段，在 `expires` (截止失效时间)没有到达之前，无论你怎么刷新页面，浏览器都不会重新请求页面，而是从缓存里取  

    - `协商缓存`：是否使用缓存要跟后端商量一下，当服务端给我们打上协商缓存的标记以后，客户端在下次刷新页面需要重新请求资源时会发送一个协商请求给到服务端，服务端如果说需要变化则会响应具体的内容，如果服务端觉得没变化则会响应304  
- 页面中最大元素的一个时长：lcp(largest content paint)

- **JS逻辑**  
  - 注意副作用的清除 组件会频繁的挂载和卸载
